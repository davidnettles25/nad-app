<div id="analytics" class="content-section">
    <div class="card">
        <h3>📈 Analytics Dashboard</h3>
        
        <div id="analytics-alert"></div>
        
        <div class="stats-overview">
            <div class="stat-card">
                <div class="stat-number primary" id="analytics-total-tests">0</div>
                <div class="stat-label">Total Tests</div>
                <div style="font-size: 12px; color: #666;" id="analytics-tests-trend">Loading...</div>
            </div>
            <div class="stat-card">
                <div class="stat-number success" id="analytics-activation-rate">0%</div>
                <div class="stat-label">Activation Rate</div>
                <div style="font-size: 12px; color: #666;" id="analytics-activation-trend">Loading...</div>
            </div>
            <div class="stat-card">
                <div class="stat-number warning" id="analytics-completion-rate">0%</div>
                <div class="stat-label">Completion Rate</div>
                <div style="font-size: 12px; color: #666;" id="analytics-completion-trend">Loading...</div>
            </div>
            <div class="stat-card">
                <div class="stat-number info" id="analytics-avg-score">0</div>
                <div class="stat-label">Average Score</div>
                <div style="font-size: 12px; color: #666;" id="analytics-score-trend">Loading...</div>
            </div>
        </div>

        <div class="filters-section">
            <div class="filter-grid">
                <div class="form-group">
                    <label for="analytics-period">Time Period</label>
                    <select id="analytics-period" onchange="loadAnalytics()">
                        <option value="30">Last 30 Days</option>
                        <option value="90">Last 90 Days</option>
                        <option value="180">Last 6 Months</option>
                        <option value="365">Last Year</option>
                        <option value="all">All Time</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>&nbsp;</label>
                    <button class="btn" onclick="loadAnalytics()">🔄 Refresh Analytics</button>
                </div>
                <div class="form-group">
                    <label>&nbsp;</label>
                    <button class="btn btn-warning" onclick="exportAnalytics()">📊 Export Report</button>
                </div>
            </div>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
            <div class="card" style="margin: 0;">
                <h4>🧪 Test Status Distribution</h4>
                <div id="test-status-chart" style="height: 300px; display: flex; align-items: center; justify-content: center; background: #f8f9fa; border-radius: 8px;">
                    <div style="text-align: center; color: #666;">
                        <div style="font-size: 2em; margin-bottom: 10px;">📊</div>
                        <p>Loading chart data...</p>
                    </div>
                </div>
            </div>
            
            <div class="card" style="margin: 0;">
                <h4>🎯 Score Distribution</h4>
                <div id="score-distribution-chart" style="height: 300px; display: flex; align-items: center; justify-content: center; background: #f8f9fa; border-radius: 8px;">
                    <div style="text-align: center; color: #666;">
                        <div style="font-size: 2em; margin-bottom: 10px;">🎯</div>
                        <p>Loading score data...</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h4>📈 Tests Over Time</h4>
            <div id="timeline-chart" style="height: 400px; display: flex; align-items: center; justify-content: center; background: #f8f9fa; border-radius: 8px;">
                <div style="text-align: center; color: #666;">
                    <div style="font-size: 3em; margin-bottom: 15px;">📈</div>
                    <p>Loading timeline data...</p>
                </div>
            </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div class="card" style="margin: 0;">
                <h4>🏆 Top Performing Users</h4>
                <div id="top-users-table">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Customer ID</th>
                                <th>Tests</th>
                                <th>Avg Score</th>
                            </tr>
                        </thead>
                        <tbody id="top-users-tbody">
                            <tr>
                                <td colspan="3" style="text-align: center; padding: 20px; color: #666;">
                                    Loading user performance data...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card" style="margin: 0;">
                <h4>💊 Popular Supplements</h4>
                <div id="popular-supplements-table">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Supplement</th>
                                <th>Usage Count</th>
                                <th>Avg Score</th>
                            </tr>
                        </thead>
                        <tbody id="popular-supplements-tbody">
                            <tr>
                                <td colspan="3" style="text-align: center; padding: 20px; color: #666;">
                                    Loading supplement usage data...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
